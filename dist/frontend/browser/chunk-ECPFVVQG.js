import{a as B,c as U,d as H,e as L,f as q,g as A,h as Y,k as $,l as G,m as R,n as J,o as K,s as Q}from"./chunk-ZOGK2PJU.js";import{$ as _,Aa as N,B as r,Da as W,F as y,G as I,K as g,O as s,P as a,Q as t,R as P,S as O,T as p,U as m,X as E,Z as i,_ as h,a as w,aa as D,ba as f,ca as v,da as M,ga as u,ha as b,pa as k,qa as T,ra as z,s as C,t as x,ta as j,ua as F,wa as S,xa as V}from"./chunk-BCLJKQU2.js";function Z(l,n){if(l&1&&(a(0,"div",46),i(1),t()),l&2){let e=m();s("ngClass",e.tipoMensaje),r(),_(" ",e.mensaje," ")}}function ee(l,n){if(l&1&&(a(0,"option",29),i(1),t()),l&2){let e=n.$implicit,o=m();s("value",e.idComanda),r(),_(" ",o.getNombreComanda(e.idComanda)," ")}}function te(l,n){if(l&1&&(a(0,"option",29),i(1),t()),l&2){let e=n.$implicit;s("value",e.idProducto),r(),_(" ",e.nombre," ")}}function ne(l,n){l&1&&(a(0,"div",47),P(1,"div",48),a(2,"p"),i(3,"Cargando detalles..."),t()())}function ae(l,n){if(l&1){let e=O();a(0,"tr")(1,"td"),i(2),t(),a(3,"td"),i(4),t(),a(5,"td"),i(6),t(),a(7,"td"),i(8),u(9,"number"),t(),a(10,"td"),i(11),t(),a(12,"td")(13,"strong",54),i(14),u(15,"number"),t()(),a(16,"td",52)(17,"div",55)(18,"button",56),p("click",function(){let d=C(e).$implicit,c=m(3);return x(c.abrirModalEditar(d))}),i(19," Editar "),t(),a(20,"button",57),p("click",function(){let d=C(e).$implicit,c=m(3);return x(c.abrirModalEliminar(d))}),i(21," Eliminar "),t()()()()}if(l&2){let e=n.$implicit,o=m(3);r(2),h(e.idDetalleComanda),r(2),h(o.getNombreComanda(e.comandaId)),r(2),h(e.productoNombre||o.getNombreProducto(e.productoId)),r(2),_("$",b(9,6,e.precioUnitario,"1.2-2")),r(3),h(e.cantidad),r(3),_(" $",b(15,9,e.subtotal,"1.2-2")," ")}}function oe(l,n){if(l&1&&(a(0,"table")(1,"thead")(2,"tr")(3,"th"),i(4,"ID"),t(),a(5,"th"),i(6,"Comanda"),t(),a(7,"th"),i(8,"Producto"),t(),a(9,"th"),i(10,"Precio Unit."),t(),a(11,"th"),i(12,"Cantidad"),t(),a(13,"th"),i(14,"Subtotal"),t(),a(15,"th",52),i(16,"Acciones"),t()()(),a(17,"tbody"),g(18,ae,22,12,"tr",53),t()()),l&2){let e=m(2);r(18),s("ngForOf",e.detalles)}}function ie(l,n){l&1&&(a(0,"div",58),i(1," No hay detalles para mostrar. "),t())}function re(l,n){if(l&1&&(a(0,"div",49),g(1,oe,19,1,"table",50)(2,ie,2,0,"div",51),t()),l&2){let e=m();r(),s("ngIf",e.detalles&&e.detalles.length>0),r(),s("ngIf",!e.detalles||e.detalles.length===0)}}function le(l,n){if(l&1&&(a(0,"option",29),i(1),t()),l&2){let e=n.$implicit,o=m();s("value",e.idComanda),r(),_(" ",o.getNombreComanda(e.idComanda)," ")}}function de(l,n){if(l&1&&(a(0,"option",29),i(1),u(2,"number"),t()),l&2){let e=n.$implicit;s("value",e.idProducto),r(),D(" ",e.nombre," - $",b(2,3,e.precio,"1.2-2")," ")}}function se(l,n){if(l&1&&(a(0,"p",59),i(1," ID: "),a(2,"span"),i(3),t()()),l&2){let e=m();r(3),h(e.detalleEditando.idDetalleComanda)}}function ce(l,n){if(l&1&&(a(0,"option",29),i(1),t()),l&2){let e=n.$implicit,o=m(2);s("value",e.idComanda),r(),_(" ",o.getNombreComanda(e.idComanda)," ")}}function me(l,n){if(l&1&&(a(0,"option",29),i(1),u(2,"number"),t()),l&2){let e=n.$implicit;s("value",e.idProducto),r(),D(" ",e.nombre," - $",b(2,3,e.precio,"1.2-2")," ")}}function pe(l,n){if(l&1){let e=O();a(0,"form",26),p("ngSubmit",function(){C(e);let d=m();return x(d.actualizarDetalle())}),a(1,"div",14)(2,"label",60),i(3,"Comanda *"),t(),a(4,"select",61),M("ngModelChange",function(d){C(e);let c=m();return v(c.detalleEditando.comandaId,d)||(c.detalleEditando.comandaId=d),x(d)}),a(5,"option",29),i(6,"Seleccione una comanda"),t(),g(7,ce,2,2,"option",18),t()(),a(8,"div",14)(9,"label",62),i(10,"Producto *"),t(),a(11,"select",63),M("ngModelChange",function(d){C(e);let c=m();return v(c.detalleEditando.productoId,d)||(c.detalleEditando.productoId=d),x(d)}),p("change",function(){C(e);let d=m();return x(d.onProductoChangeEditar())}),a(12,"option",29),i(13,"Seleccione un producto"),t(),g(14,me,3,6,"option",18),t()(),a(15,"div",14)(16,"label",64),i(17,"Cantidad *"),t(),a(18,"input",65),M("ngModelChange",function(d){C(e);let c=m();return v(c.detalleEditando.cantidad,d)||(c.detalleEditando.cantidad=d),x(d)}),p("input",function(){C(e);let d=m();return x(d.onCantidadChangeEditar())}),t()(),a(19,"div",14)(20,"label",66),i(21,"Precio Unitario"),t(),P(22,"input",67),u(23,"number"),t(),a(24,"div",14)(25,"label",68),i(26,"Subtotal"),t(),P(27,"input",69),u(28,"number"),t(),a(29,"div",38)(30,"button",39),p("click",function(){C(e);let d=m();return x(d.cerrarModalEditar())}),i(31," Cancelar "),t(),a(32,"button",40),i(33," Actualizar "),t()()()}if(l&2){let e=m();r(4),f("ngModel",e.detalleEditando.comandaId),r(),s("value",0),r(2),s("ngForOf",e.comandas),r(4),f("ngModel",e.detalleEditando.productoId),r(),s("value",0),r(2),s("ngForOf",e.productos),r(4),f("ngModel",e.detalleEditando.cantidad),r(4),s("value","$"+b(23,10,e.detalleEditando.precioUnitario||0,"1.2-2")),r(5),s("value","$"+b(28,13,e.detalleEditando.subtotal||0,"1.2-2")),r(5),s("disabled",e.loading)}}var X=class l{constructor(n,e){this.http=n;this.router=e}detalles=[];detallesFiltrados=[];productos=[];comandas=[];nuevoDetalle={comandaId:0,productoId:0,cantidad:1};detalleEditando=null;detalleEliminar=null;filtros={comandaId:"",productoId:""};mostrarModalCrear=!1;mostrarModalEditar=!1;mostrarModalEliminar=!1;loading=!1;mensaje="";tipoMensaje="";apiUrl="http://restauranteav-env.eba-yavju4ap.us-east-2.elasticbeanstalk.com/api/detalles-comanda";apiProductos="http://restauranteav-env.eba-yavju4ap.us-east-2.elasticbeanstalk.com/api/productos";apiComandas="http://restauranteav-env.eba-yavju4ap.us-east-2.elasticbeanstalk.com/api/comandas";ngOnInit(){console.log("\u{1F37D}\uFE0F Componente Detalle Comanda iniciado"),this.cargarDatosIniciales()}getHeaders(){let n=localStorage.getItem("token");return n?new S({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}):new S({"Content-Type":"application/json"})}cargarDatosIniciales(){this.loading=!0,this.cargarProductos(),this.cargarComandas(),this.cargarDetalles()}cargarProductos(){this.http.get(this.apiProductos,{headers:this.getHeaders()}).subscribe({next:n=>{this.productos=n,console.log("\u2705 Productos cargados:",n.length)},error:n=>{console.error("\u274C Error al cargar productos:",n),this.mostrarMensaje("Error al cargar los productos","error")}})}cargarComandas(){this.http.get(this.apiComandas,{headers:this.getHeaders()}).subscribe({next:n=>{this.comandas=n,console.log("\u2705 Comandas cargadas:",n.length)},error:n=>{console.error("\u274C Error al cargar comandas:",n),this.mostrarMensaje("Error al cargar las comandas","error")}})}cargarDetalles(){this.http.get(this.apiUrl,{headers:this.getHeaders()}).subscribe({next:n=>{console.log("\u{1F4E5} Detalles recibidos del backend:",n),this.detalles=n,this.detallesFiltrados=n,this.loading=!1,console.log("\u2705 Detalles cargados:",n.length)},error:n=>{console.error("\u274C Error al cargar detalles:",n),this.mostrarMensaje("Error al cargar los detalles","error"),this.loading=!1}})}get totalVentas(){return!this.detalles||this.detalles.length===0?0:this.detalles.reduce((n,e)=>n+(e.subtotal||0),0)}get productosUnicos(){return!this.detalles||this.detalles.length===0?0:new Set(this.detalles.map(e=>e.productoId)).size}get promedioVenta(){return!this.detalles||this.detalles.length===0?0:this.totalVentas/this.detalles.length}getNombreProducto(n){let e=this.productos.find(o=>o.idProducto===n);return e?e.nombre:"-"}getNombreComanda(n){let e=this.comandas.find(o=>o.idComanda===n);return e?`Comanda #${n} - ${e.mesaUbicacion||"Mesa "+e.mesaId}`:`Comanda #${n}`}getPrecioProducto(n){let e=this.productos.find(o=>o.idProducto===n);return e?e.precio:0}aplicarFiltros(){if(!this.detallesFiltrados||this.detallesFiltrados.length===0){this.cargarDetalles();return}this.detalles=this.detallesFiltrados.filter(n=>{let e=this.filtros.comandaId?n.comandaId.toString()===this.filtros.comandaId:!0,o=this.filtros.productoId?n.productoId.toString()===this.filtros.productoId:!0;return e&&o}),console.log("\u{1F50D} Filtros aplicados. Detalles encontrados:",this.detalles.length)}limpiarFiltros(){this.filtros={comandaId:"",productoId:""},this.cargarDetalles()}calcularSubtotalCrear(){let n=this.getPrecioProducto(this.nuevoDetalle.productoId);this.nuevoDetalle.precioUnitario=n,this.nuevoDetalle.subtotal=this.nuevoDetalle.cantidad*n}calcularSubtotalEditar(){if(!this.detalleEditando)return;let n=this.getPrecioProducto(this.detalleEditando.productoId);this.detalleEditando.precioUnitario=n,this.detalleEditando.subtotal=this.detalleEditando.cantidad*n}onProductoChangeCrear(){this.calcularSubtotalCrear()}onCantidadChangeCrear(){this.calcularSubtotalCrear()}onProductoChangeEditar(){this.calcularSubtotalEditar()}onCantidadChangeEditar(){this.calcularSubtotalEditar()}abrirModalCrear(){this.nuevoDetalle={comandaId:0,productoId:0,cantidad:1,precioUnitario:0,subtotal:0},this.mostrarModalCrear=!0}cerrarModalCrear(){this.mostrarModalCrear=!1}crearDetalle(){if(!this.validarDetalle(this.nuevoDetalle))return;this.loading=!0;let n={comandaId:this.nuevoDetalle.comandaId,productoId:this.nuevoDetalle.productoId,cantidad:this.nuevoDetalle.cantidad};console.log("\u{1F4E4} Enviando detalle:",n),this.http.post(this.apiUrl,n,{headers:this.getHeaders()}).subscribe({next:e=>{console.log("\u2705 Detalle creado:",e),this.mostrarMensaje("Detalle creado exitosamente","success"),this.cerrarModalCrear(),this.filtros={comandaId:"",productoId:""},this.cargarDetalles(),this.loading=!1},error:e=>{console.error("\u274C Error al crear detalle:",e),this.mostrarMensaje("Error al crear el detalle: "+(e.error?.message||e.message),"error"),this.loading=!1}})}abrirModalEditar(n){this.detalleEditando=w({},n),this.calcularSubtotalEditar(),this.mostrarModalEditar=!0}cerrarModalEditar(){this.mostrarModalEditar=!1,this.detalleEditando=null}actualizarDetalle(){if(!this.detalleEditando||!this.validarDetalle(this.detalleEditando))return;let n=`${this.apiUrl}/${this.detalleEditando.idDetalleComanda}`;this.loading=!0;let e={comandaId:this.detalleEditando.comandaId,productoId:this.detalleEditando.productoId,cantidad:this.detalleEditando.cantidad};this.http.put(n,e,{headers:this.getHeaders()}).subscribe({next:o=>{console.log("\u2705 Detalle actualizado:",o),this.mostrarMensaje("Detalle actualizado exitosamente","success"),this.cerrarModalEditar(),this.filtros={comandaId:"",productoId:""},this.cargarDetalles(),this.loading=!1},error:o=>{console.error("\u274C Error al actualizar detalle:",o),this.mostrarMensaje("Error al actualizar el detalle: "+(o.error?.message||o.message),"error"),this.loading=!1}})}abrirModalEliminar(n){this.detalleEliminar=n,this.mostrarModalEliminar=!0}cerrarModalEliminar(){this.mostrarModalEliminar=!1,this.detalleEliminar=null}confirmarEliminar(){if(!this.detalleEliminar?.idDetalleComanda){console.error("\u274C No hay ID de detalle para eliminar");return}let n=`${this.apiUrl}/${this.detalleEliminar.idDetalleComanda}`;console.log("\u{1F5D1}\uFE0F Intentando eliminar detalle con URL:",n),console.log("\u{1F5D1}\uFE0F ID del detalle:",this.detalleEliminar.idDetalleComanda),this.loading=!0,this.http.delete(n,{headers:this.getHeaders()}).subscribe({next:e=>{console.log("\u2705 Detalle eliminado, respuesta:",e),this.mostrarMensaje("Detalle eliminado exitosamente","success"),this.cerrarModalEliminar(),this.filtros={comandaId:"",productoId:""},this.cargarDetalles(),this.loading=!1},error:e=>{console.error("\u274C Error al eliminar detalle:",e),console.error("\u274C URL intentada:",n),console.error("\u274C Status:",e.status),console.error("\u274C Error completo:",e.error),e.status===404?(this.mostrarMensaje("El detalle no existe o ya fue eliminado. Recargando lista...","error"),this.cargarDetalles()):this.mostrarMensaje("Error al eliminar el detalle: "+(e.error?.message||e.message),"error"),this.loading=!1}})}validarDetalle(n){return!n.comandaId||n.comandaId===0?(this.mostrarMensaje("Debe seleccionar una comanda","error"),!1):!n.productoId||n.productoId===0?(this.mostrarMensaje("Debe seleccionar un producto","error"),!1):!n.cantidad||n.cantidad<1?(this.mostrarMensaje("La cantidad debe ser al menos 1","error"),!1):!0}mostrarMensaje(n,e){this.mensaje=n,this.tipoMensaje=e,setTimeout(()=>{this.mensaje="",this.tipoMensaje=""},4e3)}volverAlDashboard(){this.router.navigate(["/dashboard-admin"])}static \u0275fac=function(e){return new(e||l)(y(V),y(W))};static \u0275cmp=I({type:l,selectors:[["app-detalle-comanda"]],decls:124,vars:43,consts:[[1,"container"],[1,"header"],[1,"header-content"],[1,"btn-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"main-content"],[1,"content-card"],[1,"stats-grid"],[1,"stat-card"],[1,"number"],["class","message",3,"ngClass",4,"ngIf"],[1,"filters-section"],[1,"filters-grid"],[1,"form-group"],["for","filterComanda"],["id","filterComanda",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterProducto"],["id","filterProducto",3,"ngModelChange","ngModel"],[1,"table-section"],["class","loading",4,"ngIf"],["class","table-wrapper",4,"ngIf"],[1,"modal"],[1,"modal-content"],[3,"ngSubmit"],["for","createComanda"],["id","createComanda","name","comandaId","required","",3,"ngModelChange","ngModel"],[3,"value"],["for","createProducto"],["id","createProducto","name","productoId","required","",3,"ngModelChange","change","ngModel"],["for","createCantidad"],["type","number","id","createCantidad","name","cantidad","min","1","required","",3,"ngModelChange","input","ngModel"],["for","createPrecio"],["type","text","id","createPrecio","readonly","",3,"value"],["for","createSubtotal"],["type","text","id","createSubtotal","readonly","",1,"subtotal-display",3,"value"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color: #b8a896; margin-bottom: 20px; text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"color","#b8a896","margin-bottom","30px","text-align","center"],[2,"font-size","13px","color","#e57373","text-align","center"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"message",3,"ngClass"],[1,"loading"],[1,"spinner"],[1,"table-wrapper"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"color","#e0b588"],[1,"actions"],[1,"btn","btn-small","btn-edit",3,"click"],[1,"btn","btn-small","btn-danger",3,"click"],[1,"empty-state"],[2,"color","#b8a896","margin-bottom","20px","text-align","center"],["for","editComanda"],["id","editComanda","name","comandaId","required","",3,"ngModelChange","ngModel"],["for","editProducto"],["id","editProducto","name","productoId","required","",3,"ngModelChange","change","ngModel"],["for","editCantidad"],["type","number","id","editCantidad","name","cantidad","min","1","required","",3,"ngModelChange","input","ngModel"],["for","editPrecio"],["type","text","id","editPrecio","readonly","",3,"value"],["for","editSubtotal"],["type","text","id","editSubtotal","readonly","",1,"subtotal-display",3,"value"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),i(4,"\u25C6 Gesti\xF3n de Detalles de Comanda \u25C6"),t(),a(5,"div",3)(6,"button",4),p("click",function(){return o.abrirModalCrear()}),i(7," + Nuevo Detalle "),t(),a(8,"button",5),p("click",function(){return o.volverAlDashboard()}),i(9," Volver al Dashboard "),t()()()(),a(10,"main",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"h3"),i(15,"Total Detalles"),t(),a(16,"div",10),i(17),t()(),a(18,"div",9)(19,"h3"),i(20,"Ventas Totales"),t(),a(21,"div",10),i(22),u(23,"number"),t()(),a(24,"div",9)(25,"h3"),i(26,"Productos \xDAnicos"),t(),a(27,"div",10),i(28),t()(),a(29,"div",9)(30,"h3"),i(31,"Promedio por Detalle"),t(),a(32,"div",10),i(33),u(34,"number"),t()()(),g(35,Z,2,2,"div",11),a(36,"section",12)(37,"h3"),i(38,"\u{1F50D} Filtros de B\xFAsqueda"),t(),a(39,"div",13)(40,"div",14)(41,"label",15),i(42,"Comanda"),t(),a(43,"select",16),M("ngModelChange",function(c){return v(o.filtros.comandaId,c)||(o.filtros.comandaId=c),c}),a(44,"option",17),i(45,"Todas las comandas"),t(),g(46,ee,2,2,"option",18),t()(),a(47,"div",14)(48,"label",19),i(49,"Producto"),t(),a(50,"select",20),M("ngModelChange",function(c){return v(o.filtros.productoId,c)||(o.filtros.productoId=c),c}),a(51,"option",17),i(52,"Todos los productos"),t(),g(53,te,2,2,"option",18),t()()(),a(54,"div",3)(55,"button",4),p("click",function(){return o.aplicarFiltros()}),i(56," Aplicar Filtros "),t(),a(57,"button",5),p("click",function(){return o.limpiarFiltros()}),i(58," Limpiar "),t()()(),a(59,"section",21)(60,"h2"),i(61,"Listado de Detalles"),t(),g(62,ne,4,0,"div",22)(63,re,3,2,"div",23),t()()()(),a(64,"div",24)(65,"div",25)(66,"h3"),i(67,"Nuevo Detalle de Comanda"),t(),a(68,"form",26),p("ngSubmit",function(){return o.crearDetalle()}),a(69,"div",14)(70,"label",27),i(71,"Comanda *"),t(),a(72,"select",28),M("ngModelChange",function(c){return v(o.nuevoDetalle.comandaId,c)||(o.nuevoDetalle.comandaId=c),c}),a(73,"option",29),i(74,"Seleccione una comanda"),t(),g(75,le,2,2,"option",18),t()(),a(76,"div",14)(77,"label",30),i(78,"Producto *"),t(),a(79,"select",31),M("ngModelChange",function(c){return v(o.nuevoDetalle.productoId,c)||(o.nuevoDetalle.productoId=c),c}),p("change",function(){return o.onProductoChangeCrear()}),a(80,"option",29),i(81,"Seleccione un producto"),t(),g(82,de,3,6,"option",18),t()(),a(83,"div",14)(84,"label",32),i(85,"Cantidad *"),t(),a(86,"input",33),M("ngModelChange",function(c){return v(o.nuevoDetalle.cantidad,c)||(o.nuevoDetalle.cantidad=c),c}),p("input",function(){return o.onCantidadChangeCrear()}),t()(),a(87,"div",14)(88,"label",34),i(89,"Precio Unitario"),t(),P(90,"input",35),u(91,"number"),t(),a(92,"div",14)(93,"label",36),i(94,"Subtotal"),t(),P(95,"input",37),u(96,"number"),t(),a(97,"div",38)(98,"button",39),p("click",function(){return o.cerrarModalCrear()}),i(99," Cancelar "),t(),a(100,"button",40),i(101," Crear "),t()()()()(),a(102,"div",24)(103,"div",25)(104,"h3"),i(105,"Editar Detalle de Comanda"),t(),g(106,se,4,1,"p",41)(107,pe,34,16,"form",42),t()(),a(108,"div",24)(109,"div",25)(110,"h3"),i(111,"Confirmar Eliminaci\xF3n"),t(),a(112,"p",43),i(113," \xBFEst\xE1s seguro de que deseas eliminar el detalle #"),a(114,"strong"),i(115),t(),i(116,"? "),t(),a(117,"p",44),i(118," Esta acci\xF3n no se puede deshacer. "),t(),a(119,"div",38)(120,"button",39),p("click",function(){return o.cerrarModalEliminar()}),i(121," Cancelar "),t(),a(122,"button",45),p("click",function(){return o.confirmarEliminar()}),i(123," Eliminar "),t()()()()),e&2&&(r(17),h(o.detalles&&o.detalles.length||0),r(5),_("$",b(23,31,o.totalVentas,"1.2-2")),r(6),h(o.productosUnicos),r(5),_("$",b(34,34,o.promedioVenta,"1.2-2")),r(2),s("ngIf",o.mensaje),r(8),f("ngModel",o.filtros.comandaId),r(3),s("ngForOf",o.comandas),r(4),f("ngModel",o.filtros.productoId),r(3),s("ngForOf",o.productos),r(9),s("ngIf",o.loading),r(),s("ngIf",!o.loading),r(),E("show",o.mostrarModalCrear),r(8),f("ngModel",o.nuevoDetalle.comandaId),r(),s("value",0),r(2),s("ngForOf",o.comandas),r(4),f("ngModel",o.nuevoDetalle.productoId),r(),s("value",0),r(2),s("ngForOf",o.productos),r(4),f("ngModel",o.nuevoDetalle.cantidad),r(4),s("value","$"+b(91,37,o.nuevoDetalle.precioUnitario||0,"1.2-2")),r(5),s("value","$"+b(96,40,o.nuevoDetalle.subtotal||0,"1.2-2")),r(5),s("disabled",o.loading),r(2),E("show",o.mostrarModalEditar&&o.detalleEditando),r(4),s("ngIf",o.detalleEditando),r(),s("ngIf",o.detalleEditando),r(),E("show",o.mostrarModalEliminar),r(7),h(o.detalleEliminar==null?null:o.detalleEliminar.idDetalleComanda),r(7),s("disabled",o.loading))},dependencies:[F,k,T,z,Q,A,G,R,B,Y,$,U,H,K,J,q,L,N,j],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}[_nghost-%COMP%]{display:block;height:100%;--primary: #d4a574;--secondary: #b88652;--accent: #e0b588;--text: #e0d5c7;--text-light: #c9b8a6;--bg-dark: #0a0705;--bg-medium: #1a1410;--bg-card: rgba(26, 20, 16, .9);--shadow-glow: 0 8px 32px rgba(212, 165, 116, .25)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;max-height:100vh;overflow:hidden;font-family:Cormorant Garamond,Georgia,serif;background:linear-gradient(135deg,#1a1410,#2d1f16,#1a1410);position:relative}.container[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:radial-gradient(circle,rgba(212,165,116,.03) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_moveBackground 20s linear infinite;z-index:0;pointer-events:none}@keyframes _ngcontent-%COMP%_moveBackground{0%{transform:translate(0)}to{transform:translate(50px,50px)}}.header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background:linear-gradient(135deg,#2d1f16f2,#1a1410f2);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(212,165,116,.4);box-shadow:0 0 60px #d4a57433;padding:30px 40px;flex-shrink:0}.header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--primary) 50%,transparent);opacity:.3;animation:_ngcontent-%COMP%_shimmer 3s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:.3}50%{opacity:1}}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1600px;margin:0 auto;gap:20px;flex-wrap:wrap}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent);font-size:2.25rem;font-weight:300;letter-spacing:3px;text-shadow:0 0 30px rgba(212,165,116,.5);margin:0}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:40px 20px;position:relative;z-index:10;min-height:0}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a141066;border-radius:10px;margin:5px}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--primary),var(--secondary));border-radius:10px;border:3px solid rgba(26,20,16,.4);transition:all .3s ease}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,var(--accent),var(--primary));border-color:#1a141033;box-shadow:0 0 10px #d4a57480}.main-content[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--primary) rgba(26,20,16,.3)}.content-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f16d9,#1a1410d9);padding:40px;border-radius:20px;border:1px solid rgba(212,165,116,.4);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 0 60px #d4a57433;position:relative;z-index:1;max-width:1600px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .6s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#1a141080;padding:20px;border-radius:15px;border:1px solid rgba(212,165,116,.3);text-align:center;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 20px #d4a5744d}.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary);font-size:14px;letter-spacing:1px;margin-bottom:10px;text-transform:uppercase}.stat-card[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:var(--accent);font-size:28px;font-weight:700;text-shadow:0 0 20px rgba(212,165,116,.3)}.message[_ngcontent-%COMP%]{padding:15px 20px;border-radius:10px;margin-bottom:25px;font-size:14px;letter-spacing:.5px;animation:_ngcontent-%COMP%_slideDown .4s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.message.success[_ngcontent-%COMP%]{background:#4caf5026;color:#81c784;border:1px solid rgba(76,175,80,.3)}.message.error[_ngcontent-%COMP%]{background:#f4433626;color:#e57373;border:1px solid rgba(244,67,54,.3)}.filters-section[_ngcontent-%COMP%]{margin-bottom:30px;padding:25px;background:#1a14104d;border-radius:15px;border:1px solid rgba(212,165,116,.2)}.filters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary);font-size:16px;letter-spacing:1.5px;margin-bottom:20px;text-transform:uppercase}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;color:var(--primary);font-size:12px;margin-bottom:8px;font-weight:700;letter-spacing:1px;text-transform:uppercase}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid rgba(212,165,116,.3);border-radius:10px;font-size:14px;background:#1a141080;transition:all .4s ease;color:var(--text);font-family:Cormorant Garamond,Georgia,serif}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#b8a89680}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#1a1410cc;box-shadow:0 0 20px #d4a57433}input[readonly][_ngcontent-%COMP%]{background:#1a14104d;cursor:not-allowed;opacity:.7}select[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--bg-medium);color:var(--text)}.subtotal-display[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--accent)!important;text-shadow:0 0 15px rgba(212,165,116,.4)}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:14px;font-weight:700;cursor:pointer;transition:all .4s ease;text-transform:uppercase;letter-spacing:1.5px;font-family:Cormorant Garamond,Georgia,serif}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c89b68,#d4a574,#e0b588);color:var(--bg-medium);box-shadow:0 5px 20px #d4a5744d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 30px #d4a57480}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--primary);border:2px solid var(--primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d4a5741a;transform:translateY(-2px)}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c85050,#e05555);color:#fff;box-shadow:0 5px 20px #c850504d}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 30px #c8505080}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e8cc8,#6ba3e0);color:#fff;box-shadow:0 5px 20px #5e8cc84d}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #5e8cc880}.btn-small[_ngcontent-%COMP%]{padding:8px 16px;font-size:12px}.btn-group[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.table-section[_ngcontent-%COMP%]{margin-top:40px}.table-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary);font-size:1.5rem;font-weight:400;margin-bottom:25px;letter-spacing:2px;border-bottom:2px solid rgba(212,165,116,.3);padding-bottom:15px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#1a14104d}thead[_ngcontent-%COMP%]{background:#d4a57433}th[_ngcontent-%COMP%]{padding:15px 10px;text-align:left;color:var(--accent);font-weight:700;letter-spacing:1px;text-transform:uppercase;font-size:12px;border-bottom:2px solid rgba(212,165,116,.3);white-space:nowrap}td[_ngcontent-%COMP%]{padding:15px 10px;color:var(--text);border-bottom:1px solid rgba(212,165,116,.1);font-size:13px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#d4a5741a}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-light);font-style:italic;font-size:1.1rem}.loading[_ngcontent-%COMP%]{text-align:center;color:var(--primary);padding:40px 20px}.spinner[_ngcontent-%COMP%]{border:3px solid rgba(212,165,116,.2);border-top:3px solid var(--primary);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 15px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:2000;justify-content:center;align-items:center;overflow-y:auto}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f16f2,#1a1410f2);padding:40px;border-radius:20px;border:1px solid rgba(212,165,116,.4);box-shadow:0 0 80px #d4a5744d;max-width:600px;width:90%;animation:_ngcontent-%COMP%_modalSlideIn .4s ease;margin:20px}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent);font-size:24px;margin-bottom:25px;letter-spacing:2px;text-align:center}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:25px}@media (min-width: 1400px){.content-card[_ngcontent-%COMP%]{padding:50px}}@media (max-width: 1024px){.header[_ngcontent-%COMP%]{padding:25px 30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.content-card[_ngcontent-%COMP%]{padding:30px}}@media (max-width: 768px){.header[_ngcontent-%COMP%]{padding:20px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.content-card[_ngcontent-%COMP%]{padding:20px}.btn-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.actions[_ngcontent-%COMP%]{flex-direction:column}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filters-section[_ngcontent-%COMP%]{padding:15px}}@media (max-width: 480px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:2px}.main-content[_ngcontent-%COMP%]{padding:20px 15px}.content-card[_ngcontent-%COMP%]{padding:15px}.table-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.stat-card[_ngcontent-%COMP%]{padding:15px}.stat-card[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:24px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:13px;padding:10px 12px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:12px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;font-size:12px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{padding:25px}}']})};export{X as DetalleComandaComponent};
