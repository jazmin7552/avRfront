import{a as g}from"./chunk-XQHYLHBR.js";import{g as a,j as o,k as s,n as l,q as p,wa as c,xa as h}from"./chunk-BCLJKQU2.js";var d=class n{constructor(r){this.http=r;console.log("\u{1F310} API URL:",this.apiUrl)}apiUrl=g.apiUrl;getHeaders(){let r=localStorage.getItem("token"),e=new c({"Content-Type":"application/json"});return r&&(e=e.set("Authorization",`Bearer ${r}`)),e}get(r){let e=`${this.apiUrl}/${r}`;return console.log("\u{1F4E1} GET:",e),this.http.get(e,{headers:this.getHeaders()}).pipe(s(t=>console.log("\u2705 Respuesta GET:",t)),o(this.handleError))}post(r,e){let t=`${this.apiUrl}/${r}`;return console.log("\u{1F4E1} POST:",t,e),this.http.post(t,e,{headers:this.getHeaders()}).pipe(s(i=>console.log("\u2705 Respuesta POST:",i)),o(this.handleError))}put(r,e){let t=`${this.apiUrl}/${r}`;return console.log("\u{1F4E1} PUT:",t,e),this.http.put(t,e,{headers:this.getHeaders()}).pipe(s(i=>console.log("\u2705 Respuesta PUT:",i)),o(this.handleError))}patch(r,e){let t=`${this.apiUrl}/${r}`;return console.log("\u{1F4E1} PATCH:",t,e),this.http.patch(t,e,{headers:this.getHeaders()}).pipe(s(i=>console.log("\u2705 Respuesta PATCH:",i)),o(this.handleError))}delete(r){let e=`${this.apiUrl}/${r}`;return console.log("\u{1F4E1} DELETE:",e),this.http.delete(e,{headers:this.getHeaders()}).pipe(s(t=>console.log("\u2705 Respuesta DELETE:",t)),o(this.handleError))}handleError(r){console.error("\u274C Error completo:",r);let e="Ocurri\xF3 un error desconocido";return r.error instanceof ErrorEvent?e=`Error: ${r.error.message}`:(e=`C\xF3digo: ${r.status}
Mensaje: ${r.message}`,r.error?.message&&(e+=`
Detalle: ${r.error.message}`)),console.error("\u{1F4A5} Error procesado:",e),a(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(p(h))};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{d as a};
