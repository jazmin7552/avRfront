import{a as V,c as j,d as N,e as W,f as B,g as L,h as R,k as U,l as Y,m as H,n as q,o as G,q as J,s as K}from"./chunk-ZOGK2PJU.js";import{$ as C,Aa as z,B as r,Da as F,F as E,G as w,K as M,O as c,P as e,Q as t,R as S,S as v,T as m,U as p,X as h,Z as a,_ as g,a as P,b as y,ba as x,ca as _,da as f,pa as k,qa as I,ra as D,s as u,t as b,ua as T,wa as O,xa as A}from"./chunk-BCLJKQU2.js";function X(l,o){if(l&1&&(e(0,"div",53),a(1),t()),l&2){let i=p();c("ngClass",i.tipoMensaje),r(),C(" ",i.mensaje," ")}}function Z(l,o){l&1&&(e(0,"div",54),S(1,"div",55),e(2,"p"),a(3,"Cargando mesas..."),t()())}function $(l,o){if(l&1){let i=v();e(0,"div",61)(1,"div",62),a(2,"\u{1F37D}\uFE0F"),t(),e(3,"div",63),a(4),t(),e(5,"div",64)(6,"div",65)(7,"span",66),a(8,"\u{1F465}"),t(),e(9,"span"),a(10),t()(),e(11,"div",67),a(12),t()(),e(13,"div",68)(14,"button",69),m("click",function(){let s=u(i).$implicit,d=p(3);return b(d.abrirModalEditar(s))}),a(15," \u270F\uFE0F "),t(),e(16,"button",70),m("click",function(){let s=u(i).$implicit,d=p(3);return b(d.abrirModalEliminar(s))}),a(17," \u{1F5D1}\uFE0F "),t()()()}if(l&2){let i=o.$implicit,n=p(3);c("ngClass",i.estado?"mesa-"+i.estado.toLowerCase():"mesa-disponible"),r(4),g(i.ubicacion||"Sin ubicaci\xF3n"),r(6),g(i.capacidad||0),r(),c("ngClass",n.getBadgeClass(i.estado||"")),r(),C(" ",i.estado||"SIN ESTADO"," ")}}function ee(l,o){if(l&1&&(e(0,"div",59),M(1,$,18,5,"div",60),t()),l&2){let i=p(2);r(),c("ngForOf",i.mesas)}}function te(l,o){l&1&&(e(0,"div",71),a(1," No hay mesas para mostrar. "),t())}function ne(l,o){if(l&1&&(e(0,"div",56)(1,"h2"),a(2,"Layout del Restaurante"),t(),M(3,ee,2,1,"div",57)(4,te,2,0,"div",58),t()),l&2){let i=p();r(3),c("ngIf",i.mesas&&i.mesas.length>0),r(),c("ngIf",!i.mesas||i.mesas.length===0)}}function ae(l,o){if(l&1){let i=v();e(0,"tr")(1,"td"),a(2),t(),e(3,"td")(4,"strong"),a(5),t()(),e(6,"td"),a(7),t(),e(8,"td")(9,"span",77),a(10),t()(),e(11,"td",75)(12,"div",78)(13,"button",79),m("click",function(){let s=u(i).$implicit,d=p(3);return b(d.abrirModalEditar(s))}),a(14," Editar "),t(),e(15,"button",80),m("click",function(){let s=u(i).$implicit,d=p(3);return b(d.abrirModalEliminar(s))}),a(16," Eliminar "),t()()()()}if(l&2){let i=o.$implicit,n=p(3);r(2),g(i.idMesa||"-"),r(3),g(i.ubicacion||"Sin ubicaci\xF3n"),r(2),C("",i.capacidad||0," personas"),r(2),c("ngClass",n.getBadgeClass(i.estado||"")),r(),C(" ",i.estado||"SIN ESTADO"," ")}}function ie(l,o){if(l&1&&(e(0,"table")(1,"thead")(2,"tr")(3,"th"),a(4,"ID"),t(),e(5,"th"),a(6,"Ubicaci\xF3n"),t(),e(7,"th"),a(8,"Capacidad"),t(),e(9,"th"),a(10,"Estado"),t(),e(11,"th",75),a(12,"Acciones"),t()()(),e(13,"tbody"),M(14,ae,17,5,"tr",76),t()()),l&2){let i=p(2);r(14),c("ngForOf",i.mesas)}}function oe(l,o){l&1&&(e(0,"div",71),a(1," No hay mesas para mostrar. "),t())}function re(l,o){if(l&1&&(e(0,"div",72)(1,"h2"),a(2,"Listado de Mesas"),t(),e(3,"div",73),M(4,ie,15,1,"table",74)(5,oe,2,0,"div",58),t()()),l&2){let i=p();r(4),c("ngIf",i.mesas&&i.mesas.length>0),r(),c("ngIf",!i.mesas||i.mesas.length===0)}}function se(l,o){if(l&1&&(e(0,"p",81),a(1," ID: "),e(2,"span"),a(3),t()()),l&2){let i=p();r(3),g(i.mesaEditando.idMesa)}}function de(l,o){if(l&1){let i=v();e(0,"form",36),m("ngSubmit",function(){u(i);let s=p();return b(s.actualizarMesa())}),e(1,"div",17)(2,"label",82),a(3,"Ubicaci\xF3n de Mesa *"),t(),e(4,"input",83),f("ngModelChange",function(s){u(i);let d=p();return _(d.mesaEditando.ubicacion,s)||(d.mesaEditando.ubicacion=s),b(s)}),t()(),e(5,"div",17)(6,"label",84),a(7,"Capacidad *"),t(),e(8,"input",85),f("ngModelChange",function(s){u(i);let d=p();return _(d.mesaEditando.capacidad,s)||(d.mesaEditando.capacidad=s),b(s)}),t()(),e(9,"div",17)(10,"label",86),a(11,"Estado *"),t(),e(12,"select",87),f("ngModelChange",function(s){u(i);let d=p();return _(d.mesaEditando.estadoId,s)||(d.mesaEditando.estadoId=s),b(s)}),e(13,"option",43),a(14,"1 - Disponible"),t(),e(15,"option",43),a(16,"2 - Ocupada"),t(),e(17,"option",43),a(18,"3 - Reservada"),t()()(),e(19,"div",44)(20,"button",45),m("click",function(){u(i);let s=p();return b(s.cerrarModalEditar())}),a(21," Cancelar "),t(),e(22,"button",46),a(23," Actualizar "),t()()()}if(l&2){let i=p();r(4),x("ngModel",i.mesaEditando.ubicacion),r(4),x("ngModel",i.mesaEditando.capacidad),r(4),x("ngModel",i.mesaEditando.estadoId),r(),c("ngValue",1),r(2),c("ngValue",2),r(2),c("ngValue",3),r(5),c("disabled",i.loading)}}var le={1:"DISPONIBLE",2:"OCUPADA",3:"RESERVADA"},Q=class l{constructor(o,i){this.http=o;this.router=i}mesas=[];mesasFiltradas=[];nuevaMesa={ubicacion:"",capacidad:1,estadoId:1};mesaEditando=null;mesaEliminar=null;filtros={numero:"",estado:"",capacidadMin:null};mostrarModalCrear=!1;mostrarModalEditar=!1;mostrarModalEliminar=!1;loading=!1;mensaje="";tipoMensaje="";vistaActual="cuadricula";apiUrl="http://restauranteav-env.eba-yavju4ap.us-east-2.elasticbeanstalk.com/api/mesas";ngOnInit(){console.log("\u{1F37D}\uFE0F Componente Mesa iniciado"),this.cargarMesas()}getHeaders(){let o=localStorage.getItem("token");return o?new O({Authorization:`Bearer ${o}`,"Content-Type":"application/json"}):new O({"Content-Type":"application/json"})}convertirEstadoParaUI(o){return typeof o=="number"&&le[o]||"SIN ESTADO"}cargarMesas(){this.loading=!0,this.http.get(this.apiUrl,{headers:this.getHeaders()}).subscribe({next:o=>{console.log("\u{1F4E5} Datos recibidos del backend:",o),this.mesas=o.map(i=>y(P({},i),{estado:this.convertirEstadoParaUI(i.estadoId)})),this.mesasFiltradas=this.mesas,this.loading=!1,console.log("\u2705 Mesas cargadas y convertidas:",this.mesas.length)},error:o=>{console.error("\u274C Error al cargar mesas:",o),this.mostrarMensaje("Error al cargar las mesas: "+(o.error?.message||o.message),"error"),this.loading=!1}})}get mesasDisponibles(){return!this.mesas||this.mesas.length===0?0:this.mesas.filter(o=>o.estado==="DISPONIBLE").length}get mesasOcupadas(){return!this.mesas||this.mesas.length===0?0:this.mesas.filter(o=>o.estado==="OCUPADA").length}get mesasReservadas(){return!this.mesas||this.mesas.length===0?0:this.mesas.filter(o=>o.estado==="RESERVADA").length}getBadgeClass(o){if(!o)return"";switch(o){case"DISPONIBLE":return"badge-disponible";case"OCUPADA":return"badge-ocupada";case"RESERVADA":return"badge-reservada";default:return""}}aplicarFiltros(){if(!this.mesasFiltradas||this.mesasFiltradas.length===0){this.cargarMesas();return}this.mesas=this.mesasFiltradas.filter(o=>{let i=this.filtros.numero?o.ubicacion.toLowerCase().includes(this.filtros.numero.toLowerCase()):!0,n=this.filtros.estado?o.estado===this.filtros.estado:!0,s=this.filtros.capacidadMin?o.capacidad>=this.filtros.capacidadMin:!0;return i&&n&&s}),console.log("\u{1F50D} Filtros aplicados. Mesas encontradas:",this.mesas.length)}limpiarFiltros(){this.filtros={numero:"",estado:"",capacidadMin:null},this.cargarMesas()}verDisponibles(){if(!this.mesasFiltradas||this.mesasFiltradas.length===0){this.cargarMesas();return}this.mesas=this.mesasFiltradas.filter(o=>o.estado==="DISPONIBLE"),console.log("\u{1F441}\uFE0F Mostrando disponibles:",this.mesas.length),this.mesas.length===0?this.mostrarMensaje("No hay mesas disponibles en este momento","error"):this.mostrarMensaje(`Mostrando ${this.mesas.length} mesas disponibles`,"success")}abrirModalCrear(){this.nuevaMesa={ubicacion:"",capacidad:1,estadoId:1},this.mostrarModalCrear=!0}cerrarModalCrear(){this.mostrarModalCrear=!1}crearMesa(){if(!this.validarMesa(this.nuevaMesa))return;this.loading=!0;let o=parseInt(String(this.nuevaMesa.estadoId),10);if(![1,2,3].includes(o)){this.mostrarMensaje("Estado inv\xE1lido. Debe ser 1, 2 o 3","error"),this.loading=!1;return}let i={ubicacion:this.nuevaMesa.ubicacion.trim(),capacidad:parseInt(String(this.nuevaMesa.capacidad),10),estadoId:o};console.log("\u{1F4E4} Enviando a crear:",i),console.log("\u{1F4E4} Tipo de estadoId:",typeof i.estadoId),console.log("\u{1F4E4} Valor de estadoId:",i.estadoId),this.http.post(this.apiUrl,i,{headers:this.getHeaders()}).subscribe({next:n=>{console.log("\u2705 Mesa creada:",n),this.mostrarMensaje("Mesa creada exitosamente","success"),this.cerrarModalCrear(),this.filtros={numero:"",estado:"",capacidadMin:null},this.cargarMesas(),this.loading=!1},error:n=>{console.error("\u274C Error al crear mesa:",n),console.error("\u274C Error completo:",n.error),console.error("\u274C Status:",n.status),console.error("\u274C Mensaje:",n.error?.message),this.mostrarMensaje("Error al crear la mesa: "+(n.error?.message||n.message),"error"),this.loading=!1}})}abrirModalEditar(o){this.mesaEditando={idMesa:o.idMesa,ubicacion:o.ubicacion,capacidad:o.capacidad,estadoId:o.estadoId||1},console.log("\u{1F4DD} Editando mesa:",this.mesaEditando),this.mostrarModalEditar=!0}cerrarModalEditar(){this.mostrarModalEditar=!1,this.mesaEditando=null}actualizarMesa(){if(!this.mesaEditando||!this.validarMesa(this.mesaEditando))return;let o=`${this.apiUrl}/${this.mesaEditando.idMesa}`;this.loading=!0;let i=parseInt(String(this.mesaEditando.estadoId),10);if(![1,2,3].includes(i)){this.mostrarMensaje("Estado inv\xE1lido. Debe ser 1, 2 o 3","error"),this.loading=!1;return}let n={ubicacion:this.mesaEditando.ubicacion.trim(),capacidad:parseInt(String(this.mesaEditando.capacidad),10),estadoId:i};console.log("\u{1F4E4} Enviando a actualizar:",n),this.http.put(o,n,{headers:this.getHeaders()}).subscribe({next:s=>{console.log("\u2705 Mesa actualizada:",s),this.mostrarMensaje("Mesa actualizada exitosamente","success"),this.cerrarModalEditar(),this.filtros={numero:"",estado:"",capacidadMin:null},this.cargarMesas(),this.loading=!1},error:s=>{console.error("\u274C Error al actualizar mesa:",s),console.error("\u274C Error completo:",s.error),this.mostrarMensaje("Error al actualizar la mesa: "+(s.error?.message||s.message),"error"),this.loading=!1}})}abrirModalEliminar(o){this.mesaEliminar=o,this.mostrarModalEliminar=!0}cerrarModalEliminar(){this.mostrarModalEliminar=!1,this.mesaEliminar=null}confirmarEliminar(){if(!this.mesaEliminar?.idMesa)return;let o=`${this.apiUrl}/${this.mesaEliminar.idMesa}`;this.loading=!0,this.http.delete(o,{headers:this.getHeaders()}).subscribe({next:()=>{console.log("\u2705 Mesa eliminada"),this.mostrarMensaje("Mesa eliminada exitosamente","success"),this.cerrarModalEliminar(),this.filtros={numero:"",estado:"",capacidadMin:null},this.cargarMesas(),this.loading=!1},error:i=>{console.error("\u274C Error al eliminar mesa:",i),this.mostrarMensaje("Error al eliminar la mesa: "+(i.error?.message||i.message),"error"),this.loading=!1}})}validarMesa(o){return o?!o.ubicacion||!o.ubicacion.trim()?(this.mostrarMensaje("La ubicaci\xF3n de la mesa es obligatoria","error"),!1):!o.capacidad||o.capacidad<1?(this.mostrarMensaje("La capacidad debe ser al menos 1","error"),!1):!0:(this.mostrarMensaje("Error: Mesa no definida","error"),!1)}mostrarMensaje(o,i){this.mensaje=o,this.tipoMensaje=i,setTimeout(()=>{this.mensaje="",this.tipoMensaje=""},4e3)}volverAlDashboard(){this.router.navigate(["/dashboard-admin"])}static \u0275fac=function(i){return new(i||l)(E(A),E(F))};static \u0275cmp=w({type:l,selectors:[["app-mesa"]],decls:123,vars:32,consts:[[1,"container"],[1,"header"],[1,"header-content"],[1,"btn-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"main-content"],[1,"content-card"],[1,"stats-grid"],[1,"stat-card"],[1,"number"],[1,"stat-card","stat-disponible"],[1,"stat-card","stat-ocupada"],[1,"stat-card","stat-reservada"],["class","message",3,"ngClass",4,"ngIf"],[1,"filters-section"],[1,"filters-grid"],[1,"form-group"],["for","filterNumero"],["type","text","id","filterNumero","placeholder","Ubicaci\xF3n de mesa...",3,"ngModelChange","ngModel"],["for","filterEstado"],["id","filterEstado",3,"ngModelChange","ngModel"],["value",""],["value","DISPONIBLE"],["value","OCUPADA"],["value","RESERVADA"],["for","filterCapacidad"],["type","number","id","filterCapacidad","min","1","placeholder","Ej: 4",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],[1,"view-toggle"],[1,"btn","btn-small",3,"click"],["class","loading",4,"ngIf"],["class","grid-section",4,"ngIf"],["class","table-section",4,"ngIf"],[1,"modal"],[1,"modal-content"],[3,"ngSubmit"],["for","createNumero"],["type","text","id","createNumero","name","ubicacion","placeholder","Ej: Sala A, Mesa 1","maxlength","50","required","",3,"ngModelChange","ngModel"],["for","createCapacidad"],["type","number","id","createCapacidad","name","capacidad","min","1","placeholder","Ej: 4","required","",3,"ngModelChange","ngModel"],["for","createEstado"],["id","createEstado","name","estadoId","required","",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color: #b8a896; margin-bottom: 20px; text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"color","#b8a896","margin-bottom","30px","text-align","center"],[2,"color","#e0b588"],[2,"font-size","13px","color","#e57373","text-align","center"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"message",3,"ngClass"],[1,"loading"],[1,"spinner"],[1,"grid-section"],["class","mesas-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"mesas-grid"],["class","mesa-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"mesa-card",3,"ngClass"],[1,"mesa-icon"],[1,"mesa-numero"],[1,"mesa-info"],[1,"capacidad"],[1,"icon"],[1,"estado-badge",3,"ngClass"],[1,"mesa-actions"],["title","Editar",1,"btn-icon","btn-edit",3,"click"],["title","Eliminar",1,"btn-icon","btn-danger",3,"click"],[1,"empty-state"],[1,"table-section"],[1,"table-wrapper"],[4,"ngIf"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"badge",3,"ngClass"],[1,"actions"],[1,"btn","btn-small","btn-edit",3,"click"],[1,"btn","btn-small","btn-danger",3,"click"],[2,"color","#b8a896","margin-bottom","20px","text-align","center"],["for","editNumero"],["type","text","id","editNumero","name","ubicacion","maxlength","50","required","",3,"ngModelChange","ngModel"],["for","editCapacidad"],["type","number","id","editCapacidad","name","capacidad","min","1","required","",3,"ngModelChange","ngModel"],["for","editEstado"],["id","editEstado","name","estadoId","required","",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),a(4,"\u25C6 Gesti\xF3n de Mesas \u25C6"),t(),e(5,"div",3)(6,"button",4),m("click",function(){return n.abrirModalCrear()}),a(7," + Nueva Mesa "),t(),e(8,"button",5),m("click",function(){return n.volverAlDashboard()}),a(9," Volver al Dashboard "),t()()()(),e(10,"main",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"h3"),a(15,"Total Mesas"),t(),e(16,"div",10),a(17),t()(),e(18,"div",11)(19,"h3"),a(20,"Disponibles"),t(),e(21,"div",10),a(22),t()(),e(23,"div",12)(24,"h3"),a(25,"Ocupadas"),t(),e(26,"div",10),a(27),t()(),e(28,"div",13)(29,"h3"),a(30,"Reservadas"),t(),e(31,"div",10),a(32),t()()(),M(33,X,2,2,"div",14),e(34,"div",15)(35,"h3"),a(36,"\u{1F50D} Filtros de B\xFAsqueda"),t(),e(37,"div",16)(38,"div",17)(39,"label",18),a(40,"Buscar por ubicaci\xF3n"),t(),e(41,"input",19),f("ngModelChange",function(d){return _(n.filtros.numero,d)||(n.filtros.numero=d),d}),t()(),e(42,"div",17)(43,"label",20),a(44,"Estado"),t(),e(45,"select",21),f("ngModelChange",function(d){return _(n.filtros.estado,d)||(n.filtros.estado=d),d}),e(46,"option",22),a(47,"Todos los estados"),t(),e(48,"option",23),a(49,"Disponible"),t(),e(50,"option",24),a(51,"Ocupada"),t(),e(52,"option",25),a(53,"Reservada"),t()()(),e(54,"div",17)(55,"label",26),a(56,"Capacidad m\xEDnima"),t(),e(57,"input",27),f("ngModelChange",function(d){return _(n.filtros.capacidadMin,d)||(n.filtros.capacidadMin=d),d}),t()()(),e(58,"div",3)(59,"button",4),m("click",function(){return n.aplicarFiltros()}),a(60," Aplicar Filtros "),t(),e(61,"button",5),m("click",function(){return n.limpiarFiltros()}),a(62," Limpiar "),t(),e(63,"button",28),m("click",function(){return n.verDisponibles()}),a(64," Ver Disponibles "),t()()(),e(65,"div",29)(66,"button",30),m("click",function(){return n.vistaActual="cuadricula"}),a(67," \u{1F4CA} Vista Cuadr\xEDculas "),t(),e(68,"button",30),m("click",function(){return n.vistaActual="tabla"}),a(69," \u{1F4CB} Vista Tabla "),t()(),M(70,Z,4,0,"div",31)(71,ne,5,2,"div",32)(72,re,6,2,"div",33),t()()(),e(73,"div",34)(74,"div",35)(75,"h3"),a(76,"Nueva Mesa"),t(),e(77,"form",36),m("ngSubmit",function(){return n.crearMesa()}),e(78,"div",17)(79,"label",37),a(80,"Ubicaci\xF3n de Mesa *"),t(),e(81,"input",38),f("ngModelChange",function(d){return _(n.nuevaMesa.ubicacion,d)||(n.nuevaMesa.ubicacion=d),d}),t()(),e(82,"div",17)(83,"label",39),a(84,"Capacidad *"),t(),e(85,"input",40),f("ngModelChange",function(d){return _(n.nuevaMesa.capacidad,d)||(n.nuevaMesa.capacidad=d),d}),t()(),e(86,"div",17)(87,"label",41),a(88,"Estado *"),t(),e(89,"select",42),f("ngModelChange",function(d){return _(n.nuevaMesa.estadoId,d)||(n.nuevaMesa.estadoId=d),d}),e(90,"option",43),a(91,"1 - Disponible"),t(),e(92,"option",43),a(93,"2 - Ocupada"),t(),e(94,"option",43),a(95,"3 - Reservada"),t()()(),e(96,"div",44)(97,"button",45),m("click",function(){return n.cerrarModalCrear()}),a(98," Cancelar "),t(),e(99,"button",46),a(100," Crear "),t()()()()(),e(101,"div",34)(102,"div",35)(103,"h3"),a(104,"Editar Mesa"),t(),M(105,se,4,1,"p",47)(106,de,24,7,"form",48),t()(),e(107,"div",34)(108,"div",35)(109,"h3"),a(110,"Confirmar Eliminaci\xF3n"),t(),e(111,"p",49),a(112," \xBFEst\xE1s seguro de que deseas eliminar la mesa "),e(113,"strong",50),a(114),t(),a(115,"? "),t(),e(116,"p",51),a(117," Esta acci\xF3n no se puede deshacer. "),t(),e(118,"div",44)(119,"button",45),m("click",function(){return n.cerrarModalEliminar()}),a(120," Cancelar "),t(),e(121,"button",52),m("click",function(){return n.confirmarEliminar()}),a(122," Eliminar "),t()()()()),i&2&&(r(17),g(n.mesas&&n.mesas.length||0),r(5),g(n.mesasDisponibles),r(5),g(n.mesasOcupadas),r(5),g(n.mesasReservadas),r(),c("ngIf",n.mensaje),r(8),x("ngModel",n.filtros.numero),r(4),x("ngModel",n.filtros.estado),r(12),x("ngModel",n.filtros.capacidadMin),r(9),h("active",n.vistaActual==="cuadricula"),r(2),h("active",n.vistaActual==="tabla"),r(2),c("ngIf",n.loading),r(),c("ngIf",!n.loading&&n.vistaActual==="cuadricula"),r(),c("ngIf",!n.loading&&n.vistaActual==="tabla"),r(),h("show",n.mostrarModalCrear),r(8),x("ngModel",n.nuevaMesa.ubicacion),r(4),x("ngModel",n.nuevaMesa.capacidad),r(4),x("ngModel",n.nuevaMesa.estadoId),r(),c("ngValue",1),r(2),c("ngValue",2),r(2),c("ngValue",3),r(5),c("disabled",n.loading),r(2),h("show",n.mostrarModalEditar&&n.mesaEditando),r(4),c("ngIf",n.mesaEditando),r(),c("ngIf",n.mesaEditando),r(),h("show",n.mostrarModalEliminar),r(7),g((n.mesaEliminar==null?null:n.mesaEliminar.ubicacion)||"esta mesa"),r(7),c("disabled",n.loading))},dependencies:[T,k,I,D,K,L,Y,H,V,R,U,j,N,G,J,q,B,W,z],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}[_nghost-%COMP%]{display:block;height:100%;--primary: #d4a574;--secondary: #b88652;--accent: #e0b588;--text: #e0d5c7;--text-light: #c9b8a6;--bg-dark: #0a0705;--bg-medium: #1a1410;--bg-card: rgba(26, 20, 16, .9);--disponible: #66bb6a;--ocupada: #ffa726;--reservada: #5e8cc8}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;max-height:100vh;overflow:hidden;font-family:Cormorant Garamond,Georgia,serif;background:linear-gradient(135deg,#1a1410,#2d1f16,#1a1410);position:relative}.container[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:radial-gradient(circle,rgba(212,165,116,.03) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_moveBackground 20s linear infinite;z-index:0;pointer-events:none}@keyframes _ngcontent-%COMP%_moveBackground{0%{transform:translate(0)}to{transform:translate(50px,50px)}}.header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background:linear-gradient(135deg,#2d1f16f2,#1a1410f2);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(212,165,116,.4);box-shadow:0 0 60px #d4a57433;padding:30px 40px;flex-shrink:0}.header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--primary) 50%,transparent);opacity:.3;animation:_ngcontent-%COMP%_shimmer 3s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:.3}50%{opacity:1}}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1600px;margin:0 auto;gap:20px;flex-wrap:wrap}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent);font-size:2.25rem;font-weight:300;letter-spacing:3px;text-shadow:0 0 30px rgba(212,165,116,.5);margin:0}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:40px 20px;position:relative;z-index:10;min-height:0}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a141066;border-radius:10px;margin:5px}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--primary),var(--secondary));border-radius:10px;border:3px solid rgba(26,20,16,.4);transition:all .3s ease}.main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,var(--accent),var(--primary));border-color:#1a141033;box-shadow:0 0 10px #d4a57480}.main-content[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--primary) rgba(26,20,16,.3)}.content-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f16d9,#1a1410d9);padding:40px;border-radius:20px;border:1px solid rgba(212,165,116,.4);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 0 60px #d4a57433;position:relative;z-index:1;max-width:1600px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .6s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#1a141080;padding:20px;border-radius:15px;border:1px solid rgba(212,165,116,.3);text-align:center;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #d4a5744d}.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary);font-size:14px;letter-spacing:1px;margin-bottom:10px;text-transform:uppercase}.stat-card[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:var(--accent);font-size:28px;font-weight:700;text-shadow:0 0 20px rgba(212,165,116,.3)}.stat-disponible[_ngcontent-%COMP%]{border-color:#66bb6a66}.stat-disponible[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:#81c784}.stat-ocupada[_ngcontent-%COMP%]{border-color:#ffa72666}.stat-ocupada[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:#ffb74d}.stat-reservada[_ngcontent-%COMP%]{border-color:#5e8cc866}.stat-reservada[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:#6ba3e0}.message[_ngcontent-%COMP%]{padding:15px 20px;border-radius:10px;margin-bottom:25px;font-size:14px;letter-spacing:.5px;animation:_ngcontent-%COMP%_slideDown .4s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.message.success[_ngcontent-%COMP%]{background:#4caf5026;color:#81c784;border:1px solid rgba(76,175,80,.3)}.message.error[_ngcontent-%COMP%]{background:#f4433626;color:#e57373;border:1px solid rgba(244,67,54,.3)}.filters-section[_ngcontent-%COMP%]{margin-bottom:30px;padding:25px;background:#1a14104d;border-radius:15px;border:1px solid rgba(212,165,116,.2)}.filters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary);font-size:16px;letter-spacing:1.5px;margin-bottom:20px;text-transform:uppercase}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;color:var(--primary);font-size:12px;margin-bottom:8px;font-weight:700;letter-spacing:1px;text-transform:uppercase}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid rgba(212,165,116,.3);border-radius:10px;font-size:14px;background:#1a141080;transition:all .4s ease;color:var(--text);font-family:Cormorant Garamond,Georgia,serif}input[_ngcontent-%COMP%]::placeholder{color:#b8a89680}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#1a1410cc;box-shadow:0 0 20px #d4a57433}select[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--bg-medium);color:var(--text)}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:14px;font-weight:700;cursor:pointer;transition:all .4s ease;text-transform:uppercase;letter-spacing:1.5px;font-family:Cormorant Garamond,Georgia,serif}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c89b68,#d4a574,#e0b588);color:var(--bg-medium);box-shadow:0 5px 20px #d4a5744d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 30px #d4a57480}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--primary);border:2px solid var(--primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d4a5741a;transform:translateY(-2px)}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c85050,#e05555);color:#fff;box-shadow:0 5px 20px #c850504d}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 30px #c8505080}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e8cc8,#6ba3e0);color:#fff;box-shadow:0 5px 20px #5e8cc84d}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #5e8cc880}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffa726,#ffb74d);color:var(--bg-medium);box-shadow:0 5px 20px #ffa7264d}.btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffa72680}.btn-small[_ngcontent-%COMP%]{padding:8px 16px;font-size:12px}.btn-group[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.view-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-bottom:30px;padding:20px;background:#1a14104d;border-radius:15px;border:1px solid rgba(212,165,116,.2)}.view-toggle[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px}.view-toggle[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c89b68,#d4a574,#e0b588);color:var(--bg-medium);box-shadow:0 5px 20px #d4a57466}.grid-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary);font-size:24px;margin-bottom:25px;letter-spacing:2px;border-bottom:2px solid rgba(212,165,116,.3);padding-bottom:15px;text-align:center}.mesas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px;padding:10px}.mesa-card[_ngcontent-%COMP%]{background:#1a141099;border-radius:15px;padding:20px;text-align:center;border:2px solid;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.mesa-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.mesa-card[_ngcontent-%COMP%]:hover:before{opacity:1}.mesa-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 15px 40px #0006}.mesa-disponible[_ngcontent-%COMP%]{border-color:var(--disponible);background:linear-gradient(135deg,#66bb6a1a,#1a141099)}.mesa-disponible[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #66bb6a4d}.mesa-ocupada[_ngcontent-%COMP%]{border-color:var(--ocupada);background:linear-gradient(135deg,#ffa7261a,#1a141099)}.mesa-ocupada[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #ffa7264d}.mesa-reservada[_ngcontent-%COMP%]{border-color:var(--reservada);background:linear-gradient(135deg,#5e8cc81a,#1a141099)}.mesa-reservada[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #5e8cc84d}.mesa-icon[_ngcontent-%COMP%]{font-size:42px;margin-bottom:10px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.mesa-numero[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--accent);margin-bottom:15px;letter-spacing:2px;text-shadow:0 0 15px rgba(212,165,116,.4)}.mesa-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:15px}.capacidad[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;color:var(--primary);font-size:14px;font-weight:700}.capacidad[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px}.estado-badge[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;border-radius:20px;font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase}.mesa-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center;margin-top:15px;padding-top:15px;border-top:1px solid rgba(212,165,116,.2)}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;padding:8px;border-radius:8px;transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);background:#d4a57433}.table-section[_ngcontent-%COMP%]{margin-top:0}.table-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary);font-size:24px;margin-bottom:25px;letter-spacing:2px;border-bottom:2px solid rgba(212,165,116,.3);padding-bottom:15px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#1a14104d}thead[_ngcontent-%COMP%]{background:#d4a57433}th[_ngcontent-%COMP%]{padding:15px 10px;text-align:left;color:var(--accent);font-weight:700;letter-spacing:1px;text-transform:uppercase;font-size:12px;border-bottom:2px solid rgba(212,165,116,.3);white-space:nowrap}td[_ngcontent-%COMP%]{padding:15px 10px;color:var(--text);border-bottom:1px solid rgba(212,165,116,.1);font-size:13px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#d4a5741a}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.badge[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;border-radius:20px;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;white-space:nowrap}.badge-disponible[_ngcontent-%COMP%]{background:linear-gradient(135deg,#66bb6a,#81c784);color:#fff}.badge-ocupada[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffa726,#ffb74d);color:#fff}.badge-reservada[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e8cc8,#6ba3e0);color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-light);font-style:italic;font-size:1.1rem}.loading[_ngcontent-%COMP%]{text-align:center;color:var(--primary);padding:40px 20px}.spinner[_ngcontent-%COMP%]{border:3px solid rgba(212,165,116,.2);border-top:3px solid var(--primary);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 15px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:2000;justify-content:center;align-items:center;overflow-y:auto}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f16f2,#1a1410f2);padding:40px;border-radius:20px;border:1px solid rgba(212,165,116,.4);box-shadow:0 0 80px #d4a5744d;max-width:600px;width:90%;animation:_ngcontent-%COMP%_modalSlideIn .4s ease;margin:20px}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent);font-size:24px;margin-bottom:25px;letter-spacing:2px;text-align:center}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:25px}@media (min-width: 1400px){.content-card[_ngcontent-%COMP%]{padding:50px}}@media (max-width: 1024px){.header[_ngcontent-%COMP%]{padding:25px 30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.content-card[_ngcontent-%COMP%]{padding:30px}}@media (max-width: 768px){.header[_ngcontent-%COMP%]{padding:20px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.content-card[_ngcontent-%COMP%]{padding:20px}.btn-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.view-toggle[_ngcontent-%COMP%]{flex-direction:column}.mesas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:15px}.actions[_ngcontent-%COMP%]{flex-direction:column}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 480px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:2px}.main-content[_ngcontent-%COMP%]{padding:20px 15px}.content-card[_ngcontent-%COMP%]{padding:15px}.table-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .grid-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.stat-card[_ngcontent-%COMP%]{padding:15px}.stat-card[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:24px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:13px;padding:10px 12px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:12px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;font-size:12px}.modal-content[_ngcontent-%COMP%]{padding:25px}.mesas-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.filters-section[_ngcontent-%COMP%]{padding:15px}}']})};export{Q as MesaComponent};
